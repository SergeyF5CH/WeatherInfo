2026-02-13 13:17:26.650 +03:00 [DBG] Registered model binder providers, in the following order: ["WeatherInfo.API.ModelBinders.DateOnlyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2026-02-13 13:17:26.860 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-02-13 13:17:27.128 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:17:27.139 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:17:27.166 +03:00 [DBG] Created DbConnection. (27ms).
2026-02-13 13:17:27.171 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.286 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.288 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.294 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (3ms).
2026-02-13 13:17:27.297 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-13 13:17:27.301 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2026-02-13 13:17:27.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2026-02-13 13:17:27.303 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.340 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.347 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-02-13 13:17:27.383 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-02-13 13:17:27.385 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.386 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (1ms).
2026-02-13 13:17:27.397 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.398 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.398 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:17:27.399 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:17:27.400 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:17:27.401 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-13 13:17:27.407 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-13 13:17:27.412 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.413 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2026-02-13 13:17:27.414 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.415 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:27.416 +03:00 [DBG] Migrating using database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.417 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.446 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.447 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.448 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:27.449 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-13 13:17:27.450 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-02-13 13:17:27.450 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2026-02-13 13:17:27.451 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.452 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.452 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-02-13 13:17:27.454 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-02-13 13:17:27.455 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.456 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:27.457 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.484 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.485 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.486 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:27.487 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-13 13:17:27.488 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-02-13 13:17:27.489 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2026-02-13 13:17:27.490 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.491 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.491 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-02-13 13:17:27.493 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-02-13 13:17:27.494 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.494 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:27.495 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.496 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.496 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:17:27.497 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:17:27.498 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:17:27.498 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-13 13:17:27.499 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-13 13:17:27.500 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.501 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2026-02-13 13:17:27.502 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.503 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:27.509 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-02-13 13:17:27.511 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:17:27.512 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:27.513 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:27.515 +03:00 [DBG] Hosting starting
2026-02-13 13:17:28.201 +03:00 [INF] Now listening on: https://localhost:7198
2026-02-13 13:17:28.205 +03:00 [INF] Now listening on: http://localhost:5288
2026-02-13 13:17:28.206 +03:00 [DBG] Loaded hosting startup assembly WeatherInfo.API
2026-02-13 13:17:28.207 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2026-02-13 13:17:28.207 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-02-13 13:17:28.208 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2026-02-13 13:17:28.229 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-13 13:17:28.230 +03:00 [INF] Hosting environment: Development
2026-02-13 13:17:28.230 +03:00 [INF] Content root path: C:\Sergey\WeatherInfo\WeatherInfo.API
2026-02-13 13:17:28.231 +03:00 [DBG] Hosting started
2026-02-13 13:17:28.287 +03:00 [DBG] Connection id "0HNJAT4BJMBOM" accepted.
2026-02-13 13:17:28.288 +03:00 [DBG] Connection id "0HNJAT4BJMBOM" started.
2026-02-13 13:17:28.297 +03:00 [DBG] Connection id "0HNJAT4BJMBON" accepted.
2026-02-13 13:17:28.298 +03:00 [DBG] Connection id "0HNJAT4BJMBON" started.
2026-02-13 13:17:28.313 +03:00 [DBG] Connection id "0HNJAT4BJMBON" received FIN.
2026-02-13 13:17:28.313 +03:00 [DBG] Connection id "0HNJAT4BJMBOM" received FIN.
2026-02-13 13:17:28.317 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2026-02-13 13:17:28.317 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2026-02-13 13:17:28.341 +03:00 [DBG] Connection id "0HNJAT4BJMBOM" stopped.
2026-02-13 13:17:28.341 +03:00 [DBG] Connection id "0HNJAT4BJMBON" stopped.
2026-02-13 13:17:28.344 +03:00 [DBG] Connection id "0HNJAT4BJMBOM" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-13 13:17:28.344 +03:00 [DBG] Connection id "0HNJAT4BJMBON" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-13 13:17:28.474 +03:00 [DBG] Connection id "0HNJAT4BJMBOO" accepted.
2026-02-13 13:17:28.475 +03:00 [DBG] Connection id "0HNJAT4BJMBOO" started.
2026-02-13 13:17:28.505 +03:00 [DBG] Connection 0HNJAT4BJMBOO established using the following protocol: "Tls13"
2026-02-13 13:17:28.533 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/swagger/index.html - null null
2026-02-13 13:17:28.608 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-02-13 13:17:28.617 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-02-13 13:17:28.619 +03:00 [DBG] Request did not match any endpoints
2026-02-13 13:17:28.621 +03:00 [DBG] The request path  does not match the path filter
2026-02-13 13:17:28.649 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2026-02-13 13:17:28.650 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-02-13 13:17:28.660 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2026-02-13 13:17:28.661 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-02-13 13:17:28.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/swagger/index.html - 200 null text/html;charset=utf-8 132.775ms
2026-02-13 13:17:28.715 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 13:17:28.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.1164ms
2026-02-13 13:17:28.747 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/_vs/browserLink - null null
2026-02-13 13:17:28.784 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.7325ms
2026-02-13 13:17:28.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/swagger/v1/swagger.json - null null
2026-02-13 13:17:28.841 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2026-02-13 13:17:28.842 +03:00 [DBG] Request did not match any endpoints
2026-02-13 13:17:28.843 +03:00 [DBG] The request path  does not match the path filter
2026-02-13 13:17:28.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.8433ms
2026-02-13 13:17:34.984 +03:00 [DBG] Connection id "0HNJAT4BJMBOP" accepted.
2026-02-13 13:17:34.985 +03:00 [DBG] Connection id "0HNJAT4BJMBOP" received FIN.
2026-02-13 13:17:34.985 +03:00 [DBG] Connection id "0HNJAT4BJMBOP" started.
2026-02-13 13:17:34.986 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" accepted.
2026-02-13 13:17:34.991 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2026-02-13 13:17:34.991 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" started.
2026-02-13 13:17:34.993 +03:00 [DBG] Connection id "0HNJAT4BJMBOP" stopped.
2026-02-13 13:17:34.994 +03:00 [DBG] Connection id "0HNJAT4BJMBOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-13 13:17:34.996 +03:00 [DBG] Connection 0HNJAT4BJMBOQ established using the following protocol: "Tls13"
2026-02-13 13:17:34.999 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/weather/Москва?date=2026-02-11 - null null
2026-02-13 13:17:35.003 +03:00 [DBG] 1 candidate(s) found for the request path '/api/weather/Москва'
2026-02-13 13:17:35.005 +03:00 [DBG] Endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)' with route pattern 'api/weather/{city}' is valid for the request path '/api/weather/Москва'
2026-02-13 13:17:35.006 +03:00 [DBG] Request matched endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:17:35.008 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:17:35.008 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:17:35.013 +03:00 [INF] Executing endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:17:35.026 +03:00 [INF] Route matched with {action = "GetWeatherByDate", controller = "Weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWeatherByDate(System.String, System.Nullable`1[System.DateOnly]) on controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API).
2026-02-13 13:17:35.028 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-13 13:17:35.029 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-13 13:17:35.030 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-13 13:17:35.031 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-13 13:17:35.032 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-13 13:17:35.034 +03:00 [DBG] Executing controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:17:35.040 +03:00 [DBG] Executed controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:17:35.050 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' ...
2026-02-13 13:17:35.052 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' using the name 'city' in request data ...
2026-02-13 13:17:35.053 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:17:35.054 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:17:35.055 +03:00 [DBG] Attempting to validate the bound parameter 'city' of type 'System.String' ...
2026-02-13 13:17:35.062 +03:00 [DBG] Done attempting to validate the bound parameter 'city' of type 'System.String'.
2026-02-13 13:17:35.063 +03:00 [DBG] Attempting to bind parameter 'date' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:17:35.068 +03:00 [DBG] Done attempting to bind parameter 'date' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:17:35.069 +03:00 [DBG] Attempting to validate the bound parameter 'date' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:17:35.070 +03:00 [DBG] Done attempting to validate the bound parameter 'date' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:17:35.085 +03:00 [INF] Start processing HTTP request GET https://geocoding-api.open-meteo.com/v1/search?name=%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D0%B0&count=1&language=ru
2026-02-13 13:17:35.091 +03:00 [INF] Sending HTTP request GET https://geocoding-api.open-meteo.com/v1/search?name=%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D0%B0&count=1&language=ru
2026-02-13 13:17:35.359 +03:00 [INF] Received HTTP response headers after 265.2303ms - 200
2026-02-13 13:17:35.362 +03:00 [INF] End processing HTTP request after 277.8468ms - 200
2026-02-13 13:17:35.376 +03:00 [INF] Start processing HTTP request GET https://api.open-meteo.com/v1/forecast?latitude=55.75222&longitude=37.61556&daily=temperature_2m_max,weathercode&timezone=Europe/London&start_date=2026-02-11&end_date=2026-02-11
2026-02-13 13:17:35.377 +03:00 [INF] Sending HTTP request GET https://api.open-meteo.com/v1/forecast?latitude=55.75222&longitude=37.61556&daily=temperature_2m_max,weathercode&timezone=Europe/London&start_date=2026-02-11&end_date=2026-02-11
2026-02-13 13:17:35.652 +03:00 [INF] Received HTTP response headers after 273.7538ms - 200
2026-02-13 13:17:35.653 +03:00 [INF] End processing HTTP request after 277.2871ms - 200
2026-02-13 13:17:35.659 +03:00 [INF] Endpoint = day, City = Москва, Date = 2026-02-11, Latency = FALSEms, CacheHit = 586, StatusCode = 200
2026-02-13 13:17:35.668 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:17:35.685 +03:00 [DBG] 'WeatherInfoContext' generated a temporary value for the property 'WeatherRequestLog.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:17:35.710 +03:00 [DBG] Context 'WeatherInfoContext' started tracking 'WeatherRequestLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:17:35.713 +03:00 [DBG] SaveChanges starting for 'WeatherInfoContext'.
2026-02-13 13:17:35.715 +03:00 [DBG] DetectChanges starting for 'WeatherInfoContext'.
2026-02-13 13:17:35.723 +03:00 [DBG] DetectChanges completed for 'WeatherInfoContext'.
2026-02-13 13:17:35.752 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:17:35.752 +03:00 [DBG] Created DbConnection. (0ms).
2026-02-13 13:17:35.753 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:35.755 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:35.758 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:17:35.759 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:17:35.761 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-13 13:17:35.764 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:17:35.781 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:17:35.788 +03:00 [DBG] The foreign key property 'WeatherRequestLog.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-13 13:17:35.791 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:35.792 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
2026-02-13 13:17:35.796 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:35.797 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (1ms).
2026-02-13 13:17:35.805 +03:00 [DBG] An entity of type 'WeatherRequestLog' tracked by 'WeatherInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:17:35.808 +03:00 [DBG] SaveChanges completed for 'WeatherInfoContext' with 1 entities written to the database.
2026-02-13 13:17:35.816 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-13 13:17:35.819 +03:00 [DBG] No information found on request to perform content negotiation.
2026-02-13 13:17:35.819 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-13 13:17:35.820 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-13 13:17:35.821 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-13 13:17:35.822 +03:00 [INF] Executing OkObjectResult, writing value of type 'WeatherInfo.API.Dtos.WeatherDayDto'.
2026-02-13 13:17:35.832 +03:00 [INF] Executed action WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API) in 797.3874ms
2026-02-13 13:17:35.833 +03:00 [INF] Executed endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:17:35.835 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" completed keep alive response.
2026-02-13 13:17:35.836 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:17:35.838 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:35.840 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (1ms).
2026-02-13 13:17:35.841 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/weather/Москва?date=2026-02-11 - 200 null application/json; charset=utf-8 842.1809ms
2026-02-13 13:17:47.585 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/weather/Тамбов?date=2026-02-11 - null null
2026-02-13 13:17:47.587 +03:00 [DBG] 1 candidate(s) found for the request path '/api/weather/Тамбов'
2026-02-13 13:17:47.588 +03:00 [DBG] Endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)' with route pattern 'api/weather/{city}' is valid for the request path '/api/weather/Тамбов'
2026-02-13 13:17:47.589 +03:00 [DBG] Request matched endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:17:47.590 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:17:47.590 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:17:47.591 +03:00 [INF] Executing endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:17:47.591 +03:00 [INF] Route matched with {action = "GetWeatherByDate", controller = "Weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWeatherByDate(System.String, System.Nullable`1[System.DateOnly]) on controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API).
2026-02-13 13:17:47.592 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-13 13:17:47.593 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-13 13:17:47.594 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-13 13:17:47.595 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-13 13:17:47.596 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-13 13:17:47.597 +03:00 [DBG] Executing controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:17:47.598 +03:00 [DBG] Executed controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:17:47.599 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' ...
2026-02-13 13:17:47.600 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' using the name 'city' in request data ...
2026-02-13 13:17:47.601 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:17:47.602 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:17:47.602 +03:00 [DBG] Attempting to validate the bound parameter 'city' of type 'System.String' ...
2026-02-13 13:17:47.603 +03:00 [DBG] Done attempting to validate the bound parameter 'city' of type 'System.String'.
2026-02-13 13:17:47.604 +03:00 [DBG] Attempting to bind parameter 'date' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:17:47.604 +03:00 [DBG] Done attempting to bind parameter 'date' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:17:47.605 +03:00 [DBG] Attempting to validate the bound parameter 'date' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:17:47.606 +03:00 [DBG] Done attempting to validate the bound parameter 'date' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:17:47.607 +03:00 [INF] Start processing HTTP request GET https://geocoding-api.open-meteo.com/v1/search?name=%D0%A2%D0%B0%D0%BC%D0%B1%D0%BE%D0%B2&count=1&language=ru
2026-02-13 13:17:47.608 +03:00 [INF] Sending HTTP request GET https://geocoding-api.open-meteo.com/v1/search?name=%D0%A2%D0%B0%D0%BC%D0%B1%D0%BE%D0%B2&count=1&language=ru
2026-02-13 13:17:47.662 +03:00 [INF] Received HTTP response headers after 53.4222ms - 200
2026-02-13 13:17:47.663 +03:00 [INF] End processing HTTP request after 55.6114ms - 200
2026-02-13 13:17:47.664 +03:00 [INF] Start processing HTTP request GET https://api.open-meteo.com/v1/forecast?latitude=52.73169&longitude=41.44326&daily=temperature_2m_max,weathercode&timezone=Europe/London&start_date=2026-02-11&end_date=2026-02-11
2026-02-13 13:17:47.664 +03:00 [INF] Sending HTTP request GET https://api.open-meteo.com/v1/forecast?latitude=52.73169&longitude=41.44326&daily=temperature_2m_max,weathercode&timezone=Europe/London&start_date=2026-02-11&end_date=2026-02-11
2026-02-13 13:17:47.901 +03:00 [INF] Received HTTP response headers after 236.0826ms - 200
2026-02-13 13:17:47.902 +03:00 [INF] End processing HTTP request after 238.2303ms - 200
2026-02-13 13:17:47.903 +03:00 [INF] Endpoint = day, City = Тамбов, Date = 2026-02-11, Latency = FALSEms, CacheHit = 295, StatusCode = 200
2026-02-13 13:17:47.932 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:17:47.933 +03:00 [DBG] 'WeatherInfoContext' generated a temporary value for the property 'WeatherRequestLog.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:17:47.934 +03:00 [DBG] Context 'WeatherInfoContext' started tracking 'WeatherRequestLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:17:47.935 +03:00 [DBG] SaveChanges starting for 'WeatherInfoContext'.
2026-02-13 13:17:47.936 +03:00 [DBG] DetectChanges starting for 'WeatherInfoContext'.
2026-02-13 13:17:47.936 +03:00 [DBG] DetectChanges completed for 'WeatherInfoContext'.
2026-02-13 13:17:47.940 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:17:47.940 +03:00 [DBG] Created DbConnection. (0ms).
2026-02-13 13:17:47.941 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:47.941 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:47.942 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:17:47.943 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:17:47.944 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:17:47.944 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:17:47.947 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:17:47.949 +03:00 [DBG] The foreign key property 'WeatherRequestLog.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-13 13:17:47.949 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:47.950 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2026-02-13 13:17:47.951 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:47.952 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:47.952 +03:00 [DBG] An entity of type 'WeatherRequestLog' tracked by 'WeatherInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:17:47.953 +03:00 [DBG] SaveChanges completed for 'WeatherInfoContext' with 1 entities written to the database.
2026-02-13 13:17:47.954 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-13 13:17:47.956 +03:00 [DBG] No information found on request to perform content negotiation.
2026-02-13 13:17:47.956 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-13 13:17:47.957 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-13 13:17:47.957 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-13 13:17:47.958 +03:00 [INF] Executing OkObjectResult, writing value of type 'WeatherInfo.API.Dtos.WeatherDayDto'.
2026-02-13 13:17:47.959 +03:00 [INF] Executed action WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API) in 361.8765ms
2026-02-13 13:17:47.960 +03:00 [INF] Executed endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:17:47.960 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" completed keep alive response.
2026-02-13 13:17:47.961 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:17:47.962 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:17:47.962 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:17:47.964 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/weather/Тамбов?date=2026-02-11 - 200 null application/json; charset=utf-8 378.203ms
2026-02-13 13:18:08.210 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/weather/Malaga/week - null null
2026-02-13 13:18:08.212 +03:00 [DBG] 1 candidate(s) found for the request path '/api/weather/Malaga/week'
2026-02-13 13:18:08.213 +03:00 [DBG] Endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API)' with route pattern 'api/weather/{city}/week' is valid for the request path '/api/weather/Malaga/week'
2026-02-13 13:18:08.214 +03:00 [DBG] Request matched endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API)'
2026-02-13 13:18:08.214 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:08.215 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:08.215 +03:00 [INF] Executing endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API)'
2026-02-13 13:18:08.218 +03:00 [INF] Route matched with {action = "GetWeatherByWeek", controller = "Weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWeatherByWeek(System.String) on controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API).
2026-02-13 13:18:08.219 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-13 13:18:08.220 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-13 13:18:08.220 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-13 13:18:08.222 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-13 13:18:08.222 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-13 13:18:08.223 +03:00 [DBG] Executing controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:18:08.227 +03:00 [DBG] Executed controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:18:08.229 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' ...
2026-02-13 13:18:08.229 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' using the name 'city' in request data ...
2026-02-13 13:18:08.230 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:18:08.231 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:18:08.232 +03:00 [DBG] Attempting to validate the bound parameter 'city' of type 'System.String' ...
2026-02-13 13:18:08.233 +03:00 [DBG] Done attempting to validate the bound parameter 'city' of type 'System.String'.
2026-02-13 13:18:08.235 +03:00 [INF] Start processing HTTP request GET https://geocoding-api.open-meteo.com/v1/search?name=Malaga&count=1&language=ru
2026-02-13 13:18:08.236 +03:00 [INF] Sending HTTP request GET https://geocoding-api.open-meteo.com/v1/search?name=Malaga&count=1&language=ru
2026-02-13 13:18:08.295 +03:00 [INF] Received HTTP response headers after 58.5791ms - 200
2026-02-13 13:18:08.296 +03:00 [INF] End processing HTTP request after 61.331ms - 200
2026-02-13 13:18:08.298 +03:00 [INF] Start processing HTTP request GET https://api.open-meteo.com/v1/forecast?latitude=36.72016&longitude=-4.42034&daily=temperature_2m_max,weathercode&timezone=Europe/London
2026-02-13 13:18:08.299 +03:00 [INF] Sending HTTP request GET https://api.open-meteo.com/v1/forecast?latitude=36.72016&longitude=-4.42034&daily=temperature_2m_max,weathercode&timezone=Europe/London
2026-02-13 13:18:08.534 +03:00 [INF] Received HTTP response headers after 234.7072ms - 200
2026-02-13 13:18:08.535 +03:00 [INF] End processing HTTP request after 237.0743ms - 200
2026-02-13 13:18:08.536 +03:00 [INF] Endpoint = week, City = Malaga, Date = -, Latency = FALSEms, CacheHit = 301, StatusCode = 200
2026-02-13 13:18:08.538 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:18:08.539 +03:00 [DBG] 'WeatherInfoContext' generated a temporary value for the property 'WeatherRequestLog.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:08.540 +03:00 [DBG] Context 'WeatherInfoContext' started tracking 'WeatherRequestLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:08.541 +03:00 [DBG] SaveChanges starting for 'WeatherInfoContext'.
2026-02-13 13:18:08.542 +03:00 [DBG] DetectChanges starting for 'WeatherInfoContext'.
2026-02-13 13:18:08.542 +03:00 [DBG] DetectChanges completed for 'WeatherInfoContext'.
2026-02-13 13:18:08.545 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:18:08.545 +03:00 [DBG] Created DbConnection. (0ms).
2026-02-13 13:18:08.546 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:08.546 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:08.547 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:08.547 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:08.548 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:08.549 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:18:08.554 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:18:08.555 +03:00 [DBG] The foreign key property 'WeatherRequestLog.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-13 13:18:08.556 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:08.557 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2026-02-13 13:18:08.558 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:08.558 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:08.559 +03:00 [DBG] An entity of type 'WeatherRequestLog' tracked by 'WeatherInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:08.560 +03:00 [DBG] SaveChanges completed for 'WeatherInfoContext' with 1 entities written to the database.
2026-02-13 13:18:08.562 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-13 13:18:08.563 +03:00 [DBG] No information found on request to perform content negotiation.
2026-02-13 13:18:08.563 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-13 13:18:08.563 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-13 13:18:08.564 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-13 13:18:08.565 +03:00 [INF] Executing OkObjectResult, writing value of type 'WeatherInfo.API.Dtos.WeatherWeekDto'.
2026-02-13 13:18:08.567 +03:00 [INF] Executed action WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API) in 343.9066ms
2026-02-13 13:18:08.568 +03:00 [INF] Executed endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API)'
2026-02-13 13:18:08.569 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" completed keep alive response.
2026-02-13 13:18:08.569 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:18:08.570 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:08.570 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:08.571 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/weather/Malaga/week - 200 null application/json; charset=utf-8 360.8826ms
2026-02-13 13:18:23.503 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/weather/Malaga/week - null null
2026-02-13 13:18:23.504 +03:00 [DBG] 1 candidate(s) found for the request path '/api/weather/Malaga/week'
2026-02-13 13:18:23.505 +03:00 [DBG] Endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API)' with route pattern 'api/weather/{city}/week' is valid for the request path '/api/weather/Malaga/week'
2026-02-13 13:18:23.507 +03:00 [DBG] Request matched endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API)'
2026-02-13 13:18:23.507 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:23.508 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:23.508 +03:00 [INF] Executing endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API)'
2026-02-13 13:18:23.509 +03:00 [INF] Route matched with {action = "GetWeatherByWeek", controller = "Weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWeatherByWeek(System.String) on controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API).
2026-02-13 13:18:23.510 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-13 13:18:23.511 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-13 13:18:23.512 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-13 13:18:23.513 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-13 13:18:23.514 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-13 13:18:23.515 +03:00 [DBG] Executing controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:18:23.516 +03:00 [DBG] Executed controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:18:23.517 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' ...
2026-02-13 13:18:23.518 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' using the name 'city' in request data ...
2026-02-13 13:18:23.518 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:18:23.519 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:18:23.520 +03:00 [DBG] Attempting to validate the bound parameter 'city' of type 'System.String' ...
2026-02-13 13:18:23.521 +03:00 [DBG] Done attempting to validate the bound parameter 'city' of type 'System.String'.
2026-02-13 13:18:23.522 +03:00 [INF] Endpoint = week, City = Malaga, Date = -, Latency = TRUEms, CacheHit = 0, StatusCode = 200
2026-02-13 13:18:23.524 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:18:23.525 +03:00 [DBG] 'WeatherInfoContext' generated a temporary value for the property 'WeatherRequestLog.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:23.526 +03:00 [DBG] Context 'WeatherInfoContext' started tracking 'WeatherRequestLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:23.527 +03:00 [DBG] SaveChanges starting for 'WeatherInfoContext'.
2026-02-13 13:18:23.527 +03:00 [DBG] DetectChanges starting for 'WeatherInfoContext'.
2026-02-13 13:18:23.528 +03:00 [DBG] DetectChanges completed for 'WeatherInfoContext'.
2026-02-13 13:18:23.529 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:18:23.529 +03:00 [DBG] Created DbConnection. (0ms).
2026-02-13 13:18:23.530 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:23.531 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:23.531 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:23.532 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:23.533 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:23.533 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:18:23.536 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:18:23.538 +03:00 [DBG] The foreign key property 'WeatherRequestLog.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-13 13:18:23.538 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:23.539 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2026-02-13 13:18:23.540 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:23.541 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:23.542 +03:00 [DBG] An entity of type 'WeatherRequestLog' tracked by 'WeatherInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:23.543 +03:00 [DBG] SaveChanges completed for 'WeatherInfoContext' with 1 entities written to the database.
2026-02-13 13:18:23.544 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-13 13:18:23.546 +03:00 [DBG] No information found on request to perform content negotiation.
2026-02-13 13:18:23.546 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-13 13:18:23.547 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-13 13:18:23.547 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-13 13:18:23.548 +03:00 [INF] Executing OkObjectResult, writing value of type 'WeatherInfo.API.Dtos.WeatherWeekDto'.
2026-02-13 13:18:23.549 +03:00 [INF] Executed action WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API) in 34.4223ms
2026-02-13 13:18:23.550 +03:00 [INF] Executed endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByWeek (WeatherInfo.API)'
2026-02-13 13:18:23.551 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" completed keep alive response.
2026-02-13 13:18:23.552 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:18:23.553 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:23.554 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:23.555 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/weather/Malaga/week - 200 null application/json; charset=utf-8 52.3977ms
2026-02-13 13:18:25.397 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/weather/Тамбов?date=2026-02-11 - null null
2026-02-13 13:18:25.398 +03:00 [DBG] 1 candidate(s) found for the request path '/api/weather/Тамбов'
2026-02-13 13:18:25.399 +03:00 [DBG] Endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)' with route pattern 'api/weather/{city}' is valid for the request path '/api/weather/Тамбов'
2026-02-13 13:18:25.400 +03:00 [DBG] Request matched endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:18:25.400 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:25.401 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:25.402 +03:00 [INF] Executing endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:18:25.402 +03:00 [INF] Route matched with {action = "GetWeatherByDate", controller = "Weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWeatherByDate(System.String, System.Nullable`1[System.DateOnly]) on controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API).
2026-02-13 13:18:25.404 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-13 13:18:25.404 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-13 13:18:25.405 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-13 13:18:25.406 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-13 13:18:25.407 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-13 13:18:25.408 +03:00 [DBG] Executing controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:18:25.409 +03:00 [DBG] Executed controller factory for controller WeatherInfo.API.Controllers.WeatherController (WeatherInfo.API)
2026-02-13 13:18:25.410 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' ...
2026-02-13 13:18:25.411 +03:00 [DBG] Attempting to bind parameter 'city' of type 'System.String' using the name 'city' in request data ...
2026-02-13 13:18:25.411 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:18:25.412 +03:00 [DBG] Done attempting to bind parameter 'city' of type 'System.String'.
2026-02-13 13:18:25.413 +03:00 [DBG] Attempting to validate the bound parameter 'city' of type 'System.String' ...
2026-02-13 13:18:25.413 +03:00 [DBG] Done attempting to validate the bound parameter 'city' of type 'System.String'.
2026-02-13 13:18:25.414 +03:00 [DBG] Attempting to bind parameter 'date' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:25.415 +03:00 [DBG] Done attempting to bind parameter 'date' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:25.415 +03:00 [DBG] Attempting to validate the bound parameter 'date' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:25.416 +03:00 [DBG] Done attempting to validate the bound parameter 'date' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:25.417 +03:00 [INF] Endpoint = day, City = Тамбов, Date = 2026-02-11, Latency = TRUEms, CacheHit = 0, StatusCode = 200
2026-02-13 13:18:25.418 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:18:25.419 +03:00 [DBG] 'WeatherInfoContext' generated a temporary value for the property 'WeatherRequestLog.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:25.420 +03:00 [DBG] Context 'WeatherInfoContext' started tracking 'WeatherRequestLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:25.421 +03:00 [DBG] SaveChanges starting for 'WeatherInfoContext'.
2026-02-13 13:18:25.421 +03:00 [DBG] DetectChanges starting for 'WeatherInfoContext'.
2026-02-13 13:18:25.422 +03:00 [DBG] DetectChanges completed for 'WeatherInfoContext'.
2026-02-13 13:18:25.423 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:18:25.424 +03:00 [DBG] Created DbConnection. (0ms).
2026-02-13 13:18:25.424 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:25.425 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:25.426 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:25.426 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:25.427 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:25.428 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:18:25.430 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = Date), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeatherRequests" ("CacheHit", "City", "Date", "Endpoint", "LatencyMs", "StatusCode", "TimestampUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2026-02-13 13:18:25.432 +03:00 [DBG] The foreign key property 'WeatherRequestLog.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-13 13:18:25.433 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:25.433 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2026-02-13 13:18:25.434 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:25.435 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:25.436 +03:00 [DBG] An entity of type 'WeatherRequestLog' tracked by 'WeatherInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-13 13:18:25.437 +03:00 [DBG] SaveChanges completed for 'WeatherInfoContext' with 1 entities written to the database.
2026-02-13 13:18:25.438 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-13 13:18:25.439 +03:00 [DBG] No information found on request to perform content negotiation.
2026-02-13 13:18:25.439 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-13 13:18:25.440 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-13 13:18:25.440 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-13 13:18:25.441 +03:00 [INF] Executing OkObjectResult, writing value of type 'WeatherInfo.API.Dtos.WeatherDayDto'.
2026-02-13 13:18:25.442 +03:00 [INF] Executed action WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API) in 33.9581ms
2026-02-13 13:18:25.443 +03:00 [INF] Executed endpoint 'WeatherInfo.API.Controllers.WeatherController.GetWeatherByDate (WeatherInfo.API)'
2026-02-13 13:18:25.444 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" completed keep alive response.
2026-02-13 13:18:25.444 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:18:25.445 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:25.446 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:25.447 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/weather/Тамбов?date=2026-02-11 - 200 null application/json; charset=utf-8 49.8771ms
2026-02-13 13:18:29.132 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/stats/requests?from=2026-02-12&to=2026-02-12&page=1&pageSize=10 - null null
2026-02-13 13:18:29.133 +03:00 [DBG] 1 candidate(s) found for the request path '/api/stats/requests'
2026-02-13 13:18:29.134 +03:00 [DBG] Endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)' with route pattern 'api/stats/requests' is valid for the request path '/api/stats/requests'
2026-02-13 13:18:29.135 +03:00 [DBG] Request matched endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:29.135 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:29.136 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:29.136 +03:00 [INF] Executing endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:29.139 +03:00 [INF] Route matched with {action = "GetResult", controller = "Stats"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResult(System.Nullable`1[System.DateOnly], System.Nullable`1[System.DateOnly], Int32, Int32) on controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API).
2026-02-13 13:18:29.140 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-13 13:18:29.141 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-13 13:18:29.142 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-13 13:18:29.143 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-13 13:18:29.144 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-13 13:18:29.145 +03:00 [DBG] Executing controller factory for controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API)
2026-02-13 13:18:29.145 +03:00 [DBG] Executed controller factory for controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API)
2026-02-13 13:18:29.146 +03:00 [DBG] Attempting to bind parameter 'from' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:29.147 +03:00 [DBG] Done attempting to bind parameter 'from' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:29.148 +03:00 [DBG] Attempting to validate the bound parameter 'from' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:29.148 +03:00 [DBG] Done attempting to validate the bound parameter 'from' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:29.149 +03:00 [DBG] Attempting to bind parameter 'to' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:29.150 +03:00 [DBG] Done attempting to bind parameter 'to' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:29.150 +03:00 [DBG] Attempting to validate the bound parameter 'to' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:29.151 +03:00 [DBG] Done attempting to validate the bound parameter 'to' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:29.152 +03:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2026-02-13 13:18:29.152 +03:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2026-02-13 13:18:29.153 +03:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:29.154 +03:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:29.155 +03:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2026-02-13 13:18:29.155 +03:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:29.156 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-13 13:18:29.157 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2026-02-13 13:18:29.158 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:29.159 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:29.159 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-13 13:18:29.160 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:29.168 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:18:29.192 +03:00 [DBG] Compiling query expression: 
'DbSet<WeatherRequestLog>()
    .Where(x => x.TimestampUtc >= __fromUtc_0 && x.TimestampUtc <= __toUtc_1)
    .OrderByDescending(x => x.TimestampUtc)
    .Count()'
2026-02-13 13:18:29.281 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM WeatherRequests AS w
            WHERE (w.TimestampUtc >= @__fromUtc_0) && (w.TimestampUtc <= @__toUtc_1)), 
        ReaderColumn[] { ReaderColumn<int> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        WeatherInfo.API.DbContexts.WeatherInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-13 13:18:29.297 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:18:29.298 +03:00 [DBG] Created DbConnection. (0ms).
2026-02-13 13:18:29.298 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.299 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.300 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:29.300 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:29.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:29.302 +03:00 [DBG] Executing DbCommand [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
2026-02-13 13:18:29.306 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
2026-02-13 13:18:29.317 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.318 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2026-02-13 13:18:29.319 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.320 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:29.324 +03:00 [DBG] Compiling query expression: 
'DbSet<WeatherRequestLog>()
    .Where(x => x.TimestampUtc >= __fromUtc_0 && x.TimestampUtc <= __toUtc_1)
    .OrderByDescending(x => x.TimestampUtc)
    .Skip(__p_2)
    .Take(__p_3)
    .Select(x => new WeatherRequestDto{ 
        TimestampUtc = x.TimestampUtc, 
        Endpoint = x.Endpoint, 
        City = x.City, 
        Date = x.Date, 
        CacheHit = x.CacheHit, 
        StatusCode = x.StatusCode, 
        LatencyMs = x.LatencyMs 
    }
    )'
2026-02-13 13:18:29.333 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WeatherRequestDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            TimestampUtc -> 0
            Endpoint -> 1
            City -> 2
            Date -> 3
            CacheHit -> 4
            StatusCode -> 5
            LatencyMs -> 6
        SELECT w.TimestampUtc, w.Endpoint, w.City, w.Date, w.CacheHit, w.StatusCode, w.LatencyMs
        FROM WeatherRequests AS w
        WHERE (w.TimestampUtc >= @__fromUtc_0) && (w.TimestampUtc <= @__toUtc_1)
        ORDER BY w.TimestampUtc DESC
        OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY), 
    ReaderColumn[] { ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<int>, ReaderColumn<int> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WeatherRequestDto>, 
    WeatherInfo.API.DbContexts.WeatherInfoContext, 
    False, 
    False, 
    True
)'
2026-02-13 13:18:29.336 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.336 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.337 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:29.338 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:29.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:29.340 +03:00 [DBG] Executing DbCommand [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."TimestampUtc", w."Endpoint", w."City", w."Date", w."CacheHit", w."StatusCode", w."LatencyMs"
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
ORDER BY w."TimestampUtc" DESC
LIMIT @__p_3 OFFSET @__p_2
2026-02-13 13:18:29.342 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."TimestampUtc", w."Endpoint", w."City", w."Date", w."CacheHit", w."StatusCode", w."LatencyMs"
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
ORDER BY w."TimestampUtc" DESC
LIMIT @__p_3 OFFSET @__p_2
2026-02-13 13:18:29.347 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.348 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2026-02-13 13:18:29.349 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.350 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:29.351 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-13 13:18:29.352 +03:00 [DBG] No information found on request to perform content negotiation.
2026-02-13 13:18:29.352 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-13 13:18:29.353 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-13 13:18:29.353 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-13 13:18:29.354 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[WeatherInfo.API.Dtos.WeatherRequestDto, WeatherInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 13:18:29.360 +03:00 [INF] Executed action WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API) in 215.2822ms
2026-02-13 13:18:29.361 +03:00 [INF] Executed endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:29.362 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" completed keep alive response.
2026-02-13 13:18:29.362 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:18:29.363 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:29.364 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:29.365 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/stats/requests?from=2026-02-12&to=2026-02-12&page=1&pageSize=10 - 200 null application/json; charset=utf-8 232.9165ms
2026-02-13 13:18:44.964 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/stats/requests?from=2026-02-13&to=2026-02-13&page=1&pageSize=10 - null null
2026-02-13 13:18:44.966 +03:00 [DBG] 1 candidate(s) found for the request path '/api/stats/requests'
2026-02-13 13:18:44.967 +03:00 [DBG] Endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)' with route pattern 'api/stats/requests' is valid for the request path '/api/stats/requests'
2026-02-13 13:18:44.968 +03:00 [DBG] Request matched endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:44.968 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:44.969 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:44.969 +03:00 [INF] Executing endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:44.970 +03:00 [INF] Route matched with {action = "GetResult", controller = "Stats"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResult(System.Nullable`1[System.DateOnly], System.Nullable`1[System.DateOnly], Int32, Int32) on controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API).
2026-02-13 13:18:44.971 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-13 13:18:44.972 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-13 13:18:44.973 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-13 13:18:44.973 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-13 13:18:44.974 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-13 13:18:44.975 +03:00 [DBG] Executing controller factory for controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API)
2026-02-13 13:18:44.976 +03:00 [DBG] Executed controller factory for controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API)
2026-02-13 13:18:44.977 +03:00 [DBG] Attempting to bind parameter 'from' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:44.977 +03:00 [DBG] Done attempting to bind parameter 'from' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:44.978 +03:00 [DBG] Attempting to validate the bound parameter 'from' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:44.979 +03:00 [DBG] Done attempting to validate the bound parameter 'from' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:44.980 +03:00 [DBG] Attempting to bind parameter 'to' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:44.980 +03:00 [DBG] Done attempting to bind parameter 'to' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:44.981 +03:00 [DBG] Attempting to validate the bound parameter 'to' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:44.982 +03:00 [DBG] Done attempting to validate the bound parameter 'to' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:44.982 +03:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2026-02-13 13:18:44.983 +03:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2026-02-13 13:18:44.984 +03:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:44.985 +03:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:44.985 +03:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2026-02-13 13:18:44.986 +03:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:44.987 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-13 13:18:44.988 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2026-02-13 13:18:44.989 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:44.990 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:44.990 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-13 13:18:44.991 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:44.992 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:18:44.995 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:18:44.996 +03:00 [DBG] Created DbConnection. (0ms).
2026-02-13 13:18:44.996 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:44.997 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:44.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:44.998 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:44.999 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:45.000 +03:00 [DBG] Executing DbCommand [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
2026-02-13 13:18:45.002 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
2026-02-13 13:18:45.004 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:45.004 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2026-02-13 13:18:45.005 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:45.006 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (1ms).
2026-02-13 13:18:45.008 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:45.009 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:45.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:45.011 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:45.011 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:45.012 +03:00 [DBG] Executing DbCommand [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."TimestampUtc", w."Endpoint", w."City", w."Date", w."CacheHit", w."StatusCode", w."LatencyMs"
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
ORDER BY w."TimestampUtc" DESC
LIMIT @__p_3 OFFSET @__p_2
2026-02-13 13:18:45.014 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."TimestampUtc", w."Endpoint", w."City", w."Date", w."CacheHit", w."StatusCode", w."LatencyMs"
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
ORDER BY w."TimestampUtc" DESC
LIMIT @__p_3 OFFSET @__p_2
2026-02-13 13:18:45.016 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:45.017 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2026-02-13 13:18:45.018 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:45.018 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:45.019 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-13 13:18:45.021 +03:00 [DBG] No information found on request to perform content negotiation.
2026-02-13 13:18:45.021 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-13 13:18:45.022 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-13 13:18:45.022 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-13 13:18:45.023 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[WeatherInfo.API.Dtos.WeatherRequestDto, WeatherInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 13:18:45.024 +03:00 [INF] Executed action WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API) in 48.9534ms
2026-02-13 13:18:45.025 +03:00 [INF] Executed endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:45.026 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" completed keep alive response.
2026-02-13 13:18:45.026 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:18:45.027 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:45.027 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:45.028 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/stats/requests?from=2026-02-13&to=2026-02-13&page=1&pageSize=10 - 200 null application/json; charset=utf-8 63.976ms
2026-02-13 13:18:57.108 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/stats/requests?from=2026-02-12&to=2026-02-13&page=1&pageSize=10 - null null
2026-02-13 13:18:57.109 +03:00 [DBG] 1 candidate(s) found for the request path '/api/stats/requests'
2026-02-13 13:18:57.110 +03:00 [DBG] Endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)' with route pattern 'api/stats/requests' is valid for the request path '/api/stats/requests'
2026-02-13 13:18:57.111 +03:00 [DBG] Request matched endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:57.111 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:57.112 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-13 13:18:57.112 +03:00 [INF] Executing endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:57.113 +03:00 [INF] Route matched with {action = "GetResult", controller = "Stats"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResult(System.Nullable`1[System.DateOnly], System.Nullable`1[System.DateOnly], Int32, Int32) on controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API).
2026-02-13 13:18:57.114 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-13 13:18:57.115 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-13 13:18:57.115 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-13 13:18:57.116 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-13 13:18:57.117 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-13 13:18:57.118 +03:00 [DBG] Executing controller factory for controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API)
2026-02-13 13:18:57.119 +03:00 [DBG] Executed controller factory for controller WeatherInfo.API.Controllers.StatsController (WeatherInfo.API)
2026-02-13 13:18:57.119 +03:00 [DBG] Attempting to bind parameter 'from' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:57.120 +03:00 [DBG] Done attempting to bind parameter 'from' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:57.121 +03:00 [DBG] Attempting to validate the bound parameter 'from' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:57.122 +03:00 [DBG] Done attempting to validate the bound parameter 'from' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:57.122 +03:00 [DBG] Attempting to bind parameter 'to' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:57.123 +03:00 [DBG] Done attempting to bind parameter 'to' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:57.124 +03:00 [DBG] Attempting to validate the bound parameter 'to' of type 'System.Nullable`1[System.DateOnly]' ...
2026-02-13 13:18:57.124 +03:00 [DBG] Done attempting to validate the bound parameter 'to' of type 'System.Nullable`1[System.DateOnly]'.
2026-02-13 13:18:57.125 +03:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2026-02-13 13:18:57.126 +03:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2026-02-13 13:18:57.127 +03:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:57.127 +03:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:57.128 +03:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2026-02-13 13:18:57.129 +03:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2026-02-13 13:18:57.130 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-13 13:18:57.130 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2026-02-13 13:18:57.131 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:57.132 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:57.133 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-13 13:18:57.133 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-13 13:18:57.135 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'WeatherInfoContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2026-02-13 13:18:57.136 +03:00 [DBG] Creating DbConnection.
2026-02-13 13:18:57.136 +03:00 [DBG] Created DbConnection. (0ms).
2026-02-13 13:18:57.137 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.138 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.139 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:57.139 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:57.140 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:57.141 +03:00 [DBG] Executing DbCommand [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
2026-02-13 13:18:57.143 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
2026-02-13 13:18:57.145 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.146 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2026-02-13 13:18:57.147 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.148 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:57.149 +03:00 [DBG] Opening connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.149 +03:00 [DBG] Opened connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.150 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-13 13:18:57.151 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-13 13:18:57.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-13 13:18:57.152 +03:00 [DBG] Executing DbCommand [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."TimestampUtc", w."Endpoint", w."City", w."Date", w."CacheHit", w."StatusCode", w."LatencyMs"
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
ORDER BY w."TimestampUtc" DESC
LIMIT @__p_3 OFFSET @__p_2
2026-02-13 13:18:57.154 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__fromUtc_0='?' (DbType = DateTime), @__toUtc_1='?' (DbType = DateTime), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."TimestampUtc", w."Endpoint", w."City", w."Date", w."CacheHit", w."StatusCode", w."LatencyMs"
FROM "WeatherRequests" AS w
WHERE w."TimestampUtc" >= @__fromUtc_0 AND w."TimestampUtc" <= @__toUtc_1
ORDER BY w."TimestampUtc" DESC
LIMIT @__p_3 OFFSET @__p_2
2026-02-13 13:18:57.155 +03:00 [DBG] Closing data reader to 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.156 +03:00 [DBG] A data reader for 'WeatherInfoDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2026-02-13 13:18:57.157 +03:00 [DBG] Closing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.158 +03:00 [DBG] Closed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:57.159 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-13 13:18:57.160 +03:00 [DBG] No information found on request to perform content negotiation.
2026-02-13 13:18:57.160 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-13 13:18:57.161 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-13 13:18:57.161 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-13 13:18:57.162 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[WeatherInfo.API.Dtos.WeatherRequestDto, WeatherInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 13:18:57.163 +03:00 [INF] Executed action WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API) in 44.7646ms
2026-02-13 13:18:57.164 +03:00 [INF] Executed endpoint 'WeatherInfo.API.Controllers.StatsController.GetResult (WeatherInfo.API)'
2026-02-13 13:18:57.164 +03:00 [DBG] Connection id "0HNJAT4BJMBOQ" completed keep alive response.
2026-02-13 13:18:57.165 +03:00 [DBG] 'WeatherInfoContext' disposed.
2026-02-13 13:18:57.165 +03:00 [DBG] Disposing connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432'.
2026-02-13 13:18:57.166 +03:00 [DBG] Disposed connection to database 'WeatherInfoDb' on server 'tcp://localhost:5432' (0ms).
2026-02-13 13:18:57.167 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/stats/requests?from=2026-02-12&to=2026-02-13&page=1&pageSize=10 - 200 null application/json; charset=utf-8 59.1695ms
2026-02-13 13:19:35.097 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'WeatherClient'
2026-02-13 13:19:45.103 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2026-02-13 13:19:45.106 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0411ms - processed: 0 items - remaining: 1 items
